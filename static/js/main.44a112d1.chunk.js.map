{"version":3,"sources":["components/Header.jsx","components/Preloader.jsx","components/GoodsItem.jsx","components/GoodsList.jsx","components/Cart.jsx","components/BasketItem.jsx","components/BasketList.jsx","components/Alert.jsx","components/Shop.jsx","config.js","components/Footer.jsx","App.js","index.js"],"names":["Header","className","href","id","Preloader","GoodsItem","props","name","description","price","full_background","addToBasket","src","alt","onClick","style","fontSize","GoodsList","goods","length","map","good","Cart","quantity","handleBasketShow","BasketItem","removeFromBasket","incQuantity","decQuantity","BasketList","order","totalPrice","reduce","sum","item","Alert","closeAlert","useEffect","timerId","setTimeout","clearTimeout","Shop","useState","setGoods","loading","setLoading","setOrder","isBasketShow","setBasketShow","alertName","setAlertName","fetch","headers","process","then","response","json","data","featured","goodIndex","findIndex","orderGood","newGood","newOrder","index","filter","newQuantity","Footer","Date","getFullYear","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.44a112d1.chunk.js","sourcesContent":["const Header = () => {\n  return (\n    <nav className=\"deep-orange\">\n      <div className=\"nav-wrapper\">\n        <a href=\"!#\" className=\"brand-logo\">React Shop</a>\n        <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\n          <li><a href=\"!#\">Repo</a></li>\n        </ul>\n      </div>\n    </nav>\n  );\n};\n\nexport default Header;\n","const Preloader = () => {\n  return (\n    <div className=\"progress\">\n      <div className=\"indeterminate\"></div>\n    </div>\n  );\n};\n\nexport default Preloader;\n","const GoodsItem = (props) => {\n  const {\n    id,\n    name,\n    description,\n    price,\n    full_background,\n    addToBasket,\n  } = props;\n\n  return (\n    <div className=\"card\">\n      <div className=\"card-image\">\n        <img src={full_background} alt={name} />\n      </div>\n      <div className=\"card-content\">\n      <span className=\"card-title\">{name}</span>\n        <p>{description}</p>\n      </div>\n      <div className=\"card-action\">\n        <button className=\"btn deep-orange darken-2\"\n          onClick={() => addToBasket({ id, name, price })}>Buy</button>\n        <span className=\"right\" style={{ fontSize: '1.8rem' }}>{price} eur</span>\n      </div>\n    </div>\n  );\n};\n\nexport default GoodsItem;\n","import GoodsItem from './GoodsItem';\n\nconst GoodsList = (props) => {\n  const { goods = [], addToBasket } = props;\n\n  if (!goods.length) {\n    return <h3>Nothing here</h3>;\n  }\n  return (\n    <div className=\"goods\">\n      {goods.map((good) => <GoodsItem key={good.id} { ...good } addToBasket={addToBasket} />)}\n    </div>\n  );\n};\n\nexport default GoodsList;\n","const Cart = (props) => {\n  const { quantity = 0, handleBasketShow } = props;\n\n  return (\n    <div className=\"cart blue darken-4 white-text\" onClick={handleBasketShow}>\n      <i className=\"material-icons\">shopping_cart</i>\n      {quantity ? <span className=\"cart-quantity\">{quantity}</span> : null}\n    </div>\n  );\n};\n\nexport default Cart;\n","const BasketItem = (props) => {\n  const { id, name, price, quantity, removeFromBasket, incQuantity, decQuantity } = props;\n\n  return <li className=\"collection-item\">\n    {name}\n    <i className=\"material-icons basket-quantity\" onClick={() => decQuantity(id)}>remove</i>{' '}\n    x\n    {quantity}{' '}\n    <i className=\"material-icons basket-quantity\" onClick={() => incQuantity(id)}>add</i> = {price * quantity} eur\n    <span className=\"secondary-content\" onClick={() => removeFromBasket(id)}><i className=\"material-icons basket-delete\">close</i></span>\n  </li>;\n};\n\nexport default BasketItem;\n","import BasketItem from './BasketItem';\n\nconst BasketList = (props) => {\n  const { order, handleBasketShow, removeFromBasket, incQuantity, decQuantity } = props;\n\n  const totalPrice = order.reduce((sum, { price, quantity }) => {\n    return sum + price * quantity;\n  }, 0);\n\n  return (\n    <ul className=\"collection basket-list\">\n      <li className=\"collection-item active deep-orange darken-2\">Cart</li>\n      {\n        order.length ? order.map((item) => (\n          <BasketItem\n            key={item.id}\n            { ...item }\n            removeFromBasket={removeFromBasket}\n            incQuantity={incQuantity}\n            decQuantity={decQuantity}\n          />\n        )) :<li className=\"collection-item\">The shopping cart is empty</li>\n      }\n      <li className=\"collection-item active deep-orange darken-2\">\n        Total amount: {totalPrice} eur\n      </li>\n      <li className=\"collection-item\">\n        <button className=\"deep-orange darken-2 btn-small\">Pay for the order</button>\n      </li>\n      <i className=\"material-icons basket-close\" onClick={handleBasketShow}>close</i>\n    </ul>\n  );\n};\n\nexport default BasketList;\n","import { useEffect } from 'react';\n\nconst Alert = (props) => {\n  const { name, closeAlert } = props;\n\n  useEffect(() => {\n    const timerId = setTimeout(closeAlert, 3000);\n\n    return () => {\n      clearTimeout(timerId);\n    };\n  // eslint-disable-next-line\n  }, [name]);\n\n  return (\n    <div id=\"toast-container\">\n      <div className=\"toast\">{name} added to cart</div>\n    </div>\n  );\n};\n\nexport default Alert;\n","import React, { useState, useEffect } from 'react';\nimport { API_KEY, API_URL } from '../config';\n\nimport Preloader from './Preloader';\nimport GoodsList from './GoodsList';\nimport Cart from './Cart';\nimport BasketList from './BasketList';\nimport Alert from './Alert';\n\nconst Shop = () => {\n  const [goods, setGoods] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [order, setOrder] = useState([]);\n  const [isBasketShow, setBasketShow] = useState(false);\n  const [alertName, setAlertName] = useState('');\n\n  const addToBasket = (good) => {\n    const goodIndex = order.findIndex((orderGood) => orderGood.id === good.id);\n\n    if (goodIndex < 0) {\n      const newGood = { ...good, quantity: 1 };\n      setOrder([...order, newGood]);\n    } else {\n      const newOrder = order.map((orderGood, index) => {\n        if (index === goodIndex) {\n          return {\n            ...orderGood,\n            quantity: orderGood.quantity + 1,\n          }\n        } else {\n          return orderGood;\n        }\n      });\n      setOrder(newOrder);\n    }\n    setAlertName(good.name);\n  };\n\n  const handleBasketShow = () => {\n    setBasketShow(!isBasketShow);\n  };\n\n  const removeFromBasket = (id) => {\n    const newOrder = order.filter((item) => item.id !== id);\n    setOrder(newOrder);\n  };\n\n  const incQuantity = (id) => {\n    const newOrder = order.map((item) => {\n      if (item.id === id) {\n        const newQuantity = item.quantity + 1;\n        return { ...item, quantity: newQuantity };\n      } else {\n        return item;\n      }\n    });\n    setOrder(newOrder);\n  };\n\n  const decQuantity = (id) => {\n    const newOrder = order.map((item) => {\n      if (item.id === id) {\n        const newQuantity = item.quantity - 1;\n        return { ...item, quantity: newQuantity >= 0 ? newQuantity : 0 };\n      } else {\n        return item;\n      }\n    });\n    setOrder(newOrder);\n  };\n\n  const closeAlert = () => {\n    setAlertName('');\n  };\n\n  useEffect(function getGoods () {\n    fetch(API_URL, {\n      headers: {\n        'Authorization': API_KEY,\n      },\n    }).then((response) => response.json())\n      .then((data) => {\n        data.featured && setGoods(data.featured);\n        setLoading(false);\n      });\n  }, []);\n  return (\n    <main className=\"container content\">\n      <Cart quantity={order.length} handleBasketShow={handleBasketShow} />\n      {loading ? <Preloader /> : <GoodsList goods={goods} addToBasket={addToBasket} />}\n      {isBasketShow && <BasketList order={order} handleBasketShow={handleBasketShow} removeFromBasket={removeFromBasket} incQuantity={incQuantity} decQuantity={decQuantity} />}\n      {alertName && <Alert name={alertName} closeAlert={closeAlert} />}\n    </main>\n  );\n};\n\nexport default Shop;\n","const API_KEY = process.env.REACT_APP_API_KEY;\n\nconst API_URL = 'https://fortniteapi.io/v1/shop?lang=en';\n\nexport { API_KEY, API_URL };\n","const Footer = () => {\n  return (\n    <footer className=\"page-footer deep-orange lighten-2\">\n      <div className=\"footer-copyright\">\n        <div className=\"container\">\n          © {new Date().getFullYear()} Copyright Text\n            <a className=\"grey-text text-lighten-4 right\" href=\"#!\">Repo</a>\n        </div>\n      </div>\n    </footer>\n  );\n};\n\nexport default Footer;\n","import Header from './components/Header';\nimport Shop from './components/Shop';\nimport Footer from './components/Footer';\n\nconst App = () => {\n  return (\n    <>\n      <Header />\n      <Shop />\n      <Footer />\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}